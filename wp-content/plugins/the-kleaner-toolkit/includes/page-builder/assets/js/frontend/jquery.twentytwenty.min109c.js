!function(t){"use strict";t.fn.twentytwenty=function(e){var e=t.extend({default_offset_pct:.5,orientation:"horizontal",before_label:"",after_label:"",no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},e);return this.each(function(){var n=e.default_offset_pct,i=t(this),o=e.orientation,s=i.find("img:first"),a=i.find("img:last"),c=i.find(".twentytwenty-handle");c.append("<span class='twentytwenty-"+("vertical"===o?"down":"left")+"-arrow'></span>"),c.append("<span class='twentytwenty-"+("vertical"===o?"up":"right")+"-arrow'></span>"),i.addClass("twentytwenty-container"),s.addClass("twentytwenty-before"),a.addClass("twentytwenty-after");var r=function(t){var e=s.width(),n=s.height();return{w:e+"px",h:n+"px",cw:t*e+"px",ch:t*n+"px"}},l=function(t){"vertical"===o?(s.css("clip","rect(0,"+t.w+","+t.ch+",0)"),a.css("clip","rect("+t.ch+","+t.w+","+t.h+",0)")):(s.css("clip","rect(0,"+t.cw+","+t.h+",0)"),a.css("clip","rect(0,"+t.w+","+t.h+","+t.cw+")")),i.css("height",t.h)},f=function(t){var e=r(t);c.css("vertical"===o?"top":"left","vertical"===o?e.ch:e.cw),l(e)},d=function(t,e){var n;return Math.max(0,Math.min(1,n="vertical"===o?(e-w)/p:(t-v)/h))};t(window).on("resize.twentytwenty",function(t){f(n)});var v=0,w=0,h=0,p=0,u=function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==o?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===o&&t.preventDefault(),i.addClass("active"),v=i.offset().left,w=i.offset().top,h=s.width(),p=s.height()},m=function(t){i.hasClass("active")&&(n=d(t.pageX,t.pageY),f(n))},y=function(){i.removeClass("active")},g=e.move_with_handle_only?c:i;g.on("movestart",u),g.on("move",m),g.on("moveend",y),e.move_slider_on_hover&&(i.on("mouseenter",u),i.on("mousemove",m),i.on("mouseleave",y)),c.on("touchmove",function(t){t.preventDefault()}),i.find("img").on("mousedown",function(t){t.preventDefault()}),e.click_to_move&&i.on("click",function(t){v=i.offset().left,w=i.offset().top,h=s.width(),p=s.height(),n=d(t.pageX,t.pageY),f(n)}),t(window).trigger("resize.twentytwenty")})}}(jQuery);